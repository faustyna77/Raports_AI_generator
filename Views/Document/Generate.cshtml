@model AI_Raports_Generators.Models.ViewModels.GenerateDocumentViewModel

@{
    ViewData["Title"] = "Generuj dokument AI";
}

<div class="container mt-4">
    <div class="card shadow-sm border-0">
        <div class="card-body">
            <h2 class="mb-4">Generuj dokument AI</h2>

            <form asp-action="Generate" method="post">
                <div class="mb-3">
                    <label for="prompt" class="form-label">Podaj temat / opis dokumentu:</label>
                    <textarea asp-for="Prompt" class="form-control" rows="5" placeholder="Opisz, co ma zawierać dokument..."></textarea>
                </div>

                <h5 class="mt-4 mb-3">Opcje wysyłki</h5>

                <div class="form-check mb-2">
                    <input type="checkbox" class="form-check-input" asp-for="SendOptions.SendToEmail" />
                    <label class="form-check-label" asp-for="SendOptions.SendToEmail">Wyślij e-mailem</label>
                </div>

                <div class="mb-3">
                    <input type="email" class="form-control" asp-for="SendOptions.Email" placeholder="Adres e-mail" />
                </div>

                <div class="form-check mb-2">
                    <input type="checkbox" class="form-check-input" asp-for="SendOptions.SaveToDrive" />
                    <label class="form-check-label" asp-for="SendOptions.SaveToDrive">Zapisz na Google Drive</label>
                </div>

                <div class="mb-3">
                    <input type="text" class="form-control" asp-for="SendOptions.GoogleDriveLink" placeholder="Link do folderu Google Drive" />
                </div>

                <button type="submit" class="btn btn-success w-100 mt-3">📝 Generuj dokument</button>
            </form>

            @if (Model.GeneratedContent != null)
            {
                <hr class="my-4" />
                <h4>📄 Treść wygenerowana przez AI:</h4>
                <pre class="bg-light p-3 rounded border">@Model.GeneratedContent</pre>
            }

            @if (TempData["Error"] != null)
            {
                <div class="alert alert-danger mt-4">
                    @TempData["Error"]
                </div>
            }
        </div>
    </div>
</div>
